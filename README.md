# MSA-AgroTech

# О компании

Микросервисная архитектура способна решать специфические задачи и в аграрной сфере (AgTech): от точного земледелия и управления техникой до отслеживания цепочек поставок и анализа данных.

Компания **«АгроТех Х»** давно работает на рынке, занимается выращиванием различных культур, имеет **150 тепличных комплексов** по всей стране и занимается **свиноводством**. У компании есть собственный парк техники.

IT-ландшафт компании формировался постепенно, и в нём можно встретить как современные, так и устаревшие технологии, от которых постепенно отказываются.

С развитием IoT компания пробует различные датчики и системы. Например, для парка техники внедрён мониторинг местоположения, состояния, расхода топлива, выполнения работ множества единиц техники (тракторы, комбайны, опрыскиватели) разных производителей. Это помогает планировать задания, сокращать издержки и повышать производительность.

Сейчас перед компанией стоит задача — повысить эффективность в сфере животноводства и максимально автоматизировать процессы, связанные с кормлением, безопасностью и мониторингом поголовья скота.

На рынке уже есть решения в этой сфере: PigVision, ALUS, PigTales, а также исследования и проекты, например:  
https://blog.iotcloudplatform.com/how-to-design-an-iot-smart-pig-farming-system/  

Однако адаптировать их в текущих условиях невозможно либо из-за законодательных ограничений, либо из-за высокой стоимости внедрения (например, использование дронов для мониторинга животных).

Поэтому принято решение разработать **MVP архитектуры с нуля** и запустить платформу для мониторинга скота. Сначала система будет внедрена на ограниченном числе ферм, а затем может стать SaaS-решением — это выходит за рамки текущей проектной работы.

---

# Функциональные требования к системе

Система должна:

- фиксировать признаки беспокойного поведения или драк среди животных и оповещать оператора;
- фиксировать признаки задавливания поросят;
- управлять кормушками и поилками разных производителей;
- оценивать состояние животных по внешнему виду и поведению (болезнь, гибель, беспокойство и др.);
- следить за состоянием систем фильтрации воды;
- пересчитывать поголовье;
- следить за запасами еды и прогнозировать расход;
- делать пересчёт животных;
- поддерживать необходимое количество видеокамер для аналитики в реальном времени от разных производителей;
- быть построенной по принципу «центральный сервер — агенты» на фермах без ограничения количества агентов (допустимая задержка синхронизации до 10 минут, без учёта проблем со связью);
- предоставлять базовые метрики для передачи в другие системы;
- поддерживать возможность добавления собственных метрик;
- работать при отсутствии интернета и отправлять уведомления дежурному сотруднику на местах мониторинга, а после восстановления связи синхронизироваться с центральной системой;
- иметь разделение ролей и поддерживать современные способы аутентификации и авторизации;
- иметь API для мобильного приложения или веб-приложения.

---

# Нефункциональные требования

Система должна:

- обеспечивать отказоустойчивость **99,95%**;
- быть расширяемой (новый функционал без изменений существующего);
- иметь высокую производительность: от момента фиксации нештатной ситуации видеоаналитикой до оповещения должно проходить не более **5 секунд**;
- обеспечивать реакцию видеоаналитики в реальном времени (миллисекунды).

---

# Что нужно учесть

## Нейронные сети

- Нейросети иногда путают тень животного с самим животным — для MVP это некритично.  
- Проблемы с освещением: камеры должны работать и ночью.  
- Трекинг животных сложён, так как особи очень похожи.  
- Готовую модель предоставят партнёры.

## Инфраструктура

- На ферме нестабильный WiFi — нужны альтернативные каналы связи.
- Полное покрытие камерой всей площади: минимизировать слепые зоны или использовать камеры «рыбий глаз» (но качество ниже из-за выпуклой линзы).
- На каждой ферме допустимо использование **одного центрального сервера** и необходимого набора edge-устройств.

# Что нужно сделать

Проект этого спринта вы будете сдавать в Git-репозитории.  
Создайте **публичный репозиторий** в GitHub или GitLab и назовите его **MSA-AgroTech**.

Проект состоит из **четырёх заданий**.  
Решение каждого задания нужно разместить в **отдельной директории**.

Создайте в репозитории следующие директории:

- `Task1`
- `Task2`
- `Task3`
- `Task4`

Чтобы ревьюеру было проще проверять вашу работу, а вам — отслеживать изменения между итерациями:

1. Загрузите файлы в свой репозиторий.
2. Создайте **пул-реквест**.
3. На ревью отправьте **ссылку на пул-реквест**.